{% extends "base.html" %}  {# Assuming you have a base template #}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold mb-6">My Chats</h1>
    
    {% if chats %}
    <div class="space-y-4">
        {% for chat in chats %}
        <div class="bg-white shadow rounded-lg p-4 hover:shadow-lg transition-shadow">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-lg font-semibold">
                        Chat with 
                        {% if user_email == chat.email_1 %}
                            {{ chat.email_2 }}
                        {% else %}
                            {{ chat.email_1 }}
                        {% endif %}
                    </h2>
                    <p class="text-gray-600">
                        Event: {{ chat.event_name }}
                        <span class="text-sm">(Code: {{ chat.event_code }})</span>
                    </p>
                </div>
                <a href="{{ url_for('chat_page', chat_id=chat.chat_id) }}" 
                   class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                    View Chat
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-8">
        <p class="text-gray-600">You don't have any active chats yet.</p>
        <p class="mt-2">Join an event to start chatting with other participants!</p>
    </div>
    {% endif %}
</div>
{% endblock %}